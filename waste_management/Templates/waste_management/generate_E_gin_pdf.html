{% load crispy_forms_tags %}

{% load mathfilters %}

{% load humanize %}

{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    {% if title %}
        <title>Kapa Forms- {{ title }}</title>
    {% else %}
        <title>Kapa Forms</title>
    {% endif %}
    <style type="text/css">

        @page {
            background-image: url("http://10.10.0.173:8000/media/Goods_Issue_NoteA4.jpg");
            size: A4 portrait;
            margin-left: 1.5cm;
            margin-right: 2.8cm;
            margin-top: 2.4cm;
        }
         body {
            font-weight: 200;
            font-size: 10px;
            top: 0px;
            bottom: 0px;
        }
        .container {
            position: relative;
            text-align: left;
            top: 0px;
            bottom: 0px;
            /* bottom: 0px; */
            /* padding-top: 50px; */
            /* padding-right: 5px; */
            /* padding-bottom: 50px; */
            /* padding-left: 10px; */
        } 
        th {
            text-align: center;
        }
        td {
            text-align: left;
        }
        .my_table {
            border: 1px solid rgba(207, 204, 204, 0.014);
            border-collapse: collapse;
            padding-top: 5px;
            padding-right: 5px;
            padding-left: 5px;
        }
        .my_table > thead > tr > th {
            background-color: #808080;
        }
        /* tbody tr:nth-child(4) td:nth-child(3) {
            text-align: right;
        } */
         .top_row {
            padding-top: 100px;
        }
        .top_row_field {
            padding-top: 20px;
        }
        .bottom_row_hod {
            padding-top: 60px;
        }
        .top_row_resolution {
            padding-top: 80px;
        }
        .bottom_row {
            padding-top: 5px;
            position:absolute;
            bottom: 0px;
            padding-bottom: 5px;
        }

    </style>
</head>

<body>
  <div class="container">
                <fieldset style="padding-left: 10px;">
                    <p class="top_row">
                        <strong>Serial Number:</strong>
                        {{ gin.id }}
                    </p>
                    <p>
                        <strong>Date:</strong>
                        {{ gin.date_posted|date:"F d, Y" }}
                        
                    </p>
                    <p>
                        <strong>To:</strong>
                        {{ gin.department_to }} 
                    </p>
                    <p>
                        <strong>Delivered by:</strong>
                        {{ gin.delivered_by }} 
                    </p>
                </fieldset>
                <fieldset>
                    <table class="table table-striped my_table">
                        <thead>
                            <tr>
                                <th scope="col" style="width:50%">Material</th>
                                <th scope="col" style="width:15%">Quantity</th>
                                <th scope="col" style="width:5%">UOM</th>
                                <th scope="col" style="width:15%">Unit Price</th>
                                <th scope="col" style="width:15%">Total Price (KES)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if gin.material_1 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_1 != null %}
                                <td>{{ gin.material_1 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_1 }}</td>
                                <td style="text-align: center;">{{ gin.material_1.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_1.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_1 | mul:gin.material_1.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_1 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_1 }}</td>
                                <td style="text-align: center;">{{ gin.material_1.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_1.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_1 | mul:gin.material_1.price |floatformat:2 |intcomma}}</td>
                                {% endif %}                                
                            </tr>
                            {% endif %}
                            {% if gin.material_2 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_2 != null %}
                                <td>{{ gin.material_2 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_2 }}</td>
                                <td style="text-align: center;">{{ gin.material_2.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_2.price }}</td>
                                <td  style="text-align: right;">{{ gin.weighbridge_weight_2 | mul:gin.material_2.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_2 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_2 }}</td>
                                <td style="text-align: center;">{{ gin.material_2.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_2.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_2 | mul:gin.material_2.price |floatformat:2 |intcomma}}</td>
                                {% endif %}    
                            </tr>
                            {% endif %}
                            {% if gin.material_3 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_3 != null %}
                                <td>{{ gin.material_3 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_3 }}</td>
                                <td style="text-align: center;">{{ gin.material_3.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_3.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_3 | mul:gin.material_3.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_3 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_3 }}</td>
                                <td style="text-align: center;">{{ gin.material_3.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_3.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_3 | mul:gin.material_3.price |floatformat:2 |intcomma}}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_4 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_4 != null %}
                                <td>{{ gin.material_4 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_4 }}</td>
                                <td style="text-align: center;">{{ gin.material_4.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_4.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_4 | mul:gin.material_4.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_4 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_4 }}</td>
                                <td style="text-align: center;">{{ gin.material_4.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_4.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_4 | mul:gin.material_4.price |floatformat:2 |intcomma}}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_5 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_5 != null %}
                                <td>{{ gin.material_5 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_5 }}</td>
                                <td style="text-align: center;">{{ gin.material_5.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_5.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_5 | mul:gin.material_5.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_5 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_5 }}</td>
                                <td style="text-align: center;">{{ gin.material_5.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_5.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_5 | mul:gin.material_5.price |floatformat:2 |intcomma}}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_6 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_6 != null %}
                                <td>{{ gin.material_6 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_6 }}</td>
                                <td style="text-align: center;">{{ gin.material_6.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_6.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_6 | mul:gin.material_6.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_6 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_6 }}</td>
                                <td style="text-align: center;">{{ gin.material_6.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_6.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_6 | mul:gin.material_6.price |floatformat:2 |intcomma}}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_7 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_7 != null %}
                                <td>{{ gin.material_7 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_7 }}</td>
                                <td style="text-align: center;">{{ gin.material_7.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_7.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_7 | mul:gin.material_7.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_7 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_7 }}</td>
                                <td style="text-align: center;">{{ gin.material_7.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_7.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_7 | mul:gin.material_7.price |floatformat:2 |intcomma}}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_8 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_8 != null %}
                                <td>{{ gin.material_8 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_8 }}</td>
                                <td style="text-align: center;">{{ gin.material_8.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_8.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_8 | mul:gin.material_8.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_8 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_8 }}</td>
                                <td style="text-align: center;">{{ gin.material_8.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_8.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_8 | mul:gin.material_8.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_9 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_9 != null %}
                                <td>{{ gin.material_9 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_9 }}</td>
                                <td style="text-align: center;">{{ gin.material_9.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_9.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_9 | mul:gin.material_9.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_9 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_9 }}</td>
                                <td style="text-align: center;">{{ gin.material_9.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_9.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_9 | mul:gin.material_9.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_10 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_10 != null %}
                                <td>{{ gin.material_10 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_10 }}</td>
                                <td style="text-align: center;">{{ gin.material_10.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_10.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_10 | mul:gin.material_10.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_10 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_10 }}</td>
                                <td style="text-align: center;">{{ gin.material_10.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_10.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_10 | mul:gin.material_10.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_11 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_11 != null %}
                                <td>{{ gin.material_11 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_11 }}</td>
                                <td style="text-align: center;">{{ gin.material_11.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_11.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_11 | mul:gin.material_11.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_11 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_11 }}</td>
                                <td style="text-align: center;">{{ gin.material_11.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_11.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_11 | mul:gin.material_11.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_12 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_12 != null %}
                                <td>{{ gin.material_12 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_12 }}</td>
                                <td style="text-align: center;">{{ gin.material_12.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_12.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_12 | mul:gin.material_12.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_12 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_12 }}</td>
                                <td style="text-align: center;">{{ gin.material_12.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_12.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_12 | mul:gin.material_12.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_13 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_13 != null %}
                                <td>{{ gin.material_13 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_13 }}</td>
                                <td style="text-align: center;">{{ gin.material_13.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_13.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_13 | mul:gin.material_13.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_13 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_13 }}</td>
                                <td style="text-align: center;">{{ gin.material_13.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_13.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_13 | mul:gin.material_13.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_14 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_14 != null %}
                                <td>{{ gin.material_14 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_14 }}</td>
                                <td style="text-align: center;">{{ gin.material_14.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_14.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_14 | mul:gin.material_14.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_14 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_14 }}</td>
                                <td style="text-align: center;">{{ gin.material_14.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_14.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_14 | mul:gin.material_14.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                            {% if gin.material_15 != null %}
                            <tr>
                                {% if gin.weighbridge_weight_15 != null %}
                                <td>{{ gin.material_15 }}</td>
                                <td style="text-align: center;">{{ gin.weighbridge_weight_15 }}</td>
                                <td style="text-align: center;">{{ gin.material_15.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_15.price }}</td>
                                <td style="text-align: right;">{{ gin.weighbridge_weight_15 | mul:gin.material_15.price |floatformat:2 |intcomma}}</td>
                                {% else %}
                                <td>{{ gin.material_15 }}</td>
                                <td style="text-align: center;">{{ gin.material_quantity_15 }}</td>
                                <td style="text-align: center;">{{ gin.material_15.uom }}</td>
                                <td style="text-align: right;">{{ gin.material_15.price }}</td>
                                <td style="text-align: right;">{{ gin.material_quantity_15 | mul:gin.material_15.price |floatformat:2|intcomma }}</td>
                                {% endif %} 
                            </tr>
                            {% endif %}
                        </tbody>
                    </table>
                    <table>
                        <tfoot>
                            <tr></tr>
                            <tr>
                                <td><strong>WAREHOUSE WEIGHT:</strong></td>
                                <td style="text-align: right;"><strong>{{ gin.total_weight_wh}} KG</strong></td>
                                <td></td>
                                <td><strong>NET VALUE:</strong></td>
                                <td style="text-align: right;"><strong>{{ gin.my_total |intcomma}}</strong></td>
                            </tr>
                            <tr>
                                <td><strong>WEIGHBRIDGE WEIGHT:</strong></td>
                                <td style="text-align: right;"><strong>{{ gin.total_weight_wb}} KG</strong></td>
                                <td></td>
                                <td><strong>VAT (16%):</strong></td>
                                <td style="text-align: right;"><strong>{{ 0.16 | mul:gin.my_total |floatformat:2 |intcomma}}</strong></td>
                            </tr>
                            <tr>
                                <td><strong>WEIGHT DIFFERENCE:</strong></td>
                                <td style="text-align: right;"><strong>{{ gin.total_weight_wb | sub:gin.total_weight_wh |floatformat:2|intcomma }} KG</strong></td>
                                <td></td>
                                <td><strong>GROSS VALUE:</strong></td>
                                <td style="text-align: right;"><strong><u>{{ 1.16 | mul:gin.my_total |floatformat:2 |intcomma }}</u></strong></td>
                            </tr>
                        </tfoot>
                    </table>
                </fieldset>
    </div>
    <br><br>
    <div>
        <fieldset class ="bottom_row">
            <table>
                <tr>
                    <td colspan ="2"><strong>Prepared by:</strong>
                        {{ gin.author }}
                    </td>
                    <td colspan ="2"><strong>H.O.D / Representative:</strong>
                        {{ gin.hod }}
                    </td>
                </tr>
                <tr>
                    <td colspan ="2"><strong>Time in Warehouse:</strong>
                        {{ gin.time_in }}
                    </td>
                    <td  colspan ="2"><strong>FM / Management:</strong>
                        {{ gin.approved_by }}
                    </td>
                </tr>
                <tr>
                    <td colspan ="2"><strong>Time out Warehouse:</strong>
                        {{ gin.time_out }}
                    </td>
                    <td  colspan ="2"><strong>Received by:</strong>
                        {{ gin.received_by }}
                    </td>
                </tr>
            </table>
        </fieldset> 
    </div>

  <!--jQuery then Popper.js then Bootstrap js-->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>

</html>